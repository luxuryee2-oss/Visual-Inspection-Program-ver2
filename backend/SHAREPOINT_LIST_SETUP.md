# SharePoint 리스트 설정 가이드

## 리스트 컬럼 정보 확인하기

리스트에 저장하기 위해서는 리스트의 실제 컬럼 구조를 알아야 합니다. 다음 방법으로 확인할 수 있습니다:

### 1. 디버깅 API로 확인

백엔드 서버가 실행 중일 때 다음 URL로 접속:

```
GET http://localhost:3000/api/inspection/list-info
```

또는 브라우저에서:
```
http://localhost:3000/api/inspection/list-info
```

이 API는 다음 정보를 반환합니다:
- 리스트 ID
- 리스트 이름
- **사용 가능한 모든 컬럼 목록** (이름, 타입, 필수 여부 등)

### 2. SharePoint에서 직접 확인

1. SharePoint 사이트에 접속
2. 리스트 페이지로 이동
3. 기존 아이템을 하나 클릭해서 편집 모드로 진입
4. 또는 리스트 설정에서 컬럼 목록 확인

## 필요한 정보

리스트 저장이 제대로 작동하려면 다음 정보가 필요합니다:

### 필수 정보

1. **리스트 컬럼 이름들**
   - 제품명을 저장할 컬럼 이름
   - 검사자를 저장할 컬럼 이름
   - 비고를 저장할 컬럼 이름 (선택사항)
   - 사진 링크를 저장할 컬럼 이름 (선택사항)

2. **컬럼 타입**
   - 텍스트 필드
   - 날짜/시간 필드
   - 선택 필드 등

### 리스트에 저장할 데이터

현재 시스템에서 리스트에 저장하려는 데이터:
- **제품명** (productName)
- **검사자** (inspector)
- **비고** (notes)
- **사진 링크** (4개 방향: 정면, 후면, 좌측, 우측)

## 문제 해결

### 저장이 안 되는 경우

1. **디버깅 API 실행**
   ```bash
   curl http://localhost:3000/api/inspection/list-info
   ```
   또는 브라우저에서 접속하여 리스트 컬럼 정보 확인

2. **서버 로그 확인**
   - 저장 시도 시 콘솔에 출력되는 오류 메시지 확인
   - "사용 가능한 컬럼" 목록 확인
   - "시도한 필드" 확인

3. **리스트 컬럼 이름 확인**
   - SharePoint에서 실제 컬럼 이름 확인
   - 코드에서 예상하는 컬럼 이름과 일치하는지 확인

### 컬럼 이름 매핑 수정

리스트의 실제 컬럼 이름이 코드에서 예상하는 이름과 다를 경우, `backend/src/services/sharepoint.ts` 파일의 `possibleColumnNames` 부분을 수정해야 합니다.

예시:
```typescript
const possibleColumnNames: Record<string, string[]> = {
  productName: ['제품명', 'ProductName', '실제컬럼이름'], // 여기에 실제 컬럼 이름 추가
  inspector: ['검사자', 'Inspector', '실제컬럼이름'],
  // ...
};
```

## 다음 단계

1. 디버깅 API로 리스트 컬럼 정보 확인
2. 실제 컬럼 이름을 코드에 반영
3. 테스트 저장 시도
4. 필요 시 컬럼 이름 매핑 수정




